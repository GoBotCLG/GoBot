@model Gobot.Models.RegisterViewModel

@{
    ViewBag.Title = "S'enregistrer";
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title - Gobotter</title>
    <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700,900,900italic,300italic,400italic,700italic' rel='stylesheet' type='text/css'>
    <script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.js" type="text/javascript"></script>
    @Scripts.Render("~/bundles/modernizr")
    @Styles.Render("~/Content/Register.min.css")
</head>
<body>
    @{
        if (ViewBag.Error != null && ViewBag.Error != "")
        {
            <div id="error">
                <img src="~/Images/error_big.png" />
                <h1>@ViewBag.Error</h1>
                <div>Fermer</div>
            </div>
        }
    }
    <div id="back">
        <a href="@Url.Action("Index", "Home")"><img src="~/Images/arrow_left.png" />RETOUR</a>
    </div>
    @using (Html.BeginForm())
    {
        <img src="~/Images/gobot_logo.png" />
        @Html.LabelFor(model => model.Username)
        @Html.EditorFor(model => model.Username)
        @Html.ValidationMessageFor(model => model.Username)

        @Html.LabelFor(model => model.Email)
        @Html.EditorFor(model => model.Email)
        @Html.ValidationMessageFor(model => model.Email)

        @Html.LabelFor(model => model.Password)
        @Html.EditorFor(model => model.Password)
        @Html.ValidationMessageFor(model => model.Password)

        @Html.LabelFor(model => model.ConfirmPassword)
        @Html.EditorFor(model => model.ConfirmPassword)
        @Html.ValidationMessageFor(model => model.ConfirmPassword)
        
        <div class="flip-container">
            <div class="flipper">
                <div class="front go">
                    <img src="~/Images/arrow_right.png" />
                    <input type="submit" value="">
                </div>
                <div class="back go">
                    <img src="~/Images/check.png" />
                    <input type="submit" value="">
                </div>
            </div>
        </div>
    }

    <script>
        $(document).ready(function () {
            onResize();
        });

        $(window).resize(function () {
            onResize();
        });

        function onResize() {
            var goPos = $("form").width() / 2 - $(".flip-container").width() / 2;
            $(".flip-container").css("margin-left", goPos);
        }

        function removePx(s) {
            return s.substring(0, s.indexOf('px'));
        }

        $(".go").hover(function () {
            if (validUser() && validEmail() && validPwd() && samePwd()) {
                $(".back > img").attr('src', '/Images/check.png');
                $(".back").css('background-color', '#51c24b');
            }
            else {
                $(".back > img").attr('src', '/Images/close.png');
                $(".back").css('background-color', '#963434');
            }
        });

        function validUser() {
            return true;
        }
        function validEmail() {
            return true;
        }
        function validPwd() {
            return true;
        }
        function samePwd() {
            return $("#Password").val() == $("#ConfirmPassword").val();
        }
    </script>
</body>
</html>